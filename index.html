<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Khaled Ahmed ‚Äî Senior Embedded Software Validation Engineer</title>
  <meta name="description" content="Khaled Ahmed ¬∑ Senior Embedded Software Validation Engineer ‚Äî Portfolio with animated background, music, and complete professional experience.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&family=JetBrains+Mono:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{
      --bg:#07080f; --fg:#f7f7ff; --muted:#b2b8c6; --card:rgba(16,18,26,.85); --line:#24283b; --accent:#b388ff; --accent2:#ff5fa2;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:var(--bg);color:var(--fg);font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial;scroll-behavior:smooth;}
    a{color:inherit;text-decoration:none}

    /* ======== FULLSCREEN BACKGROUND (no black box) ======== */
    .background-container {
      position: fixed; inset: 0; z-index: -1; overflow: hidden;
    }
    .scene {
      position: absolute; inset: 0; opacity: 0; transition: opacity .6s ease;
      background-size: cover; background-position: center; background-repeat:no-repeat;
      will-change: opacity;
    }
    .scene.active { opacity: 1; }
    /* Lighter overlays to avoid ‚Äúblack box‚Äù look while images load */
    #sakura-scene {
      background-image:
        linear-gradient(rgba(7,8,15,.25), rgba(7,8,15,.25)),
        url('https://images.unsplash.com/photo-1492447273231-0f8fecec1e59?q=80&w=2400&auto=format&fit=crop');
    }
    #neon-scene {
      background-image:
        linear-gradient(rgba(7,8,15,.25), rgba(7,8,15,.25)),
        url('https://images.unsplash.com/photo-1542751110-97427bbecf20?q=80&w=2400&auto=format&fit=crop');
    }
    #sunset-scene {
      background-image:
        linear-gradient(rgba(7,8,15,.25), rgba(7,8,15,.25)),
        url('https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=2400&auto=format&fit=crop');
    }
    #cyber-scene {
      background-image:
        linear-gradient(rgba(7,8,15,.25), rgba(7,8,15,.25)),
        url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2400&auto=format&fit=crop');
    }

    .particles {position:absolute; inset:0; pointer-events:none;}
    .particle {position:absolute; border-radius:50%; pointer-events:none;}
    .sakura-particle {background:#ffb7c5; box-shadow:0 0 10px #ffb7c5;}
    .neon-particle {background:#5fa2ff; box-shadow:0 0 15px #5fa2ff;}
    .sunset-particle {background:#ffaa5f; box-shadow:0 0 8px #ffaa5f;}
    .cyber-particle {background:#00ff88; box-shadow:0 0 12px #00ff88;}

    /* ======== MAIN CONTENT ======== */
    .main-content { position: relative; z-index: 1; min-height: 100vh; }

    /* ======== HEADER ======== */
    header{
      position:sticky; top:0; z-index:20;
      background:linear-gradient(to bottom, rgba(7,8,15,.6), rgba(7,8,15,.15), rgba(7,8,15,0));
      backdrop-filter:saturate(140%) blur(6px);
      animation: slideDown .8s ease;
      transition: background .3s ease, box-shadow .3s ease;
    }
    header.scrolled { background: rgba(7,8,15,.75); box-shadow: 0 5px 20px rgba(0,0,0,.3); }
    .container{max-width:1200px;margin:0 auto;padding:0 20px}
    nav{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
    .brand{display:flex;gap:12px;align-items:center;font-weight:800}
    .logo{width:36px;height:36px;border-radius:12px;background:
      radial-gradient(120px 80px at 30% 30%, var(--accent), transparent),
      radial-gradient(120px 80px at 70% 70%, var(--accent2), transparent);
      animation: rotate 10s linear infinite;}
    .links a{margin:0 8px;padding:8px 10px;border-radius:10px;color:#cbd1df; transition: all .3s ease;}
    .links a:hover{background:rgba(255,255,255,.08);color:#fff; transform: translateY(-2px);}
    .btn{border:1px solid var(--line);background:var(--card);color:#fff;padding:10px 14px;border-radius:14px;cursor:pointer;transition: all .3s ease;}
    .btn:hover {transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,.3);}

    /* ======== HERO ======== */
    #hero{ min-height:100vh; display:grid; place-items:center; animation: fadeIn 1.2s ease; padding: 20px 0; }
    .grid{display:grid;gap:22px;grid-template-columns:1.1fr .9fr}
    @media (max-width:1000px){.grid{grid-template-columns:1fr}}
    .chip{display:inline-block;border:1px dashed var(--line);border-radius:30px;padding:8px 12px;color:#cbd1df; animation: pulse 2s infinite;}
    .title{font-size:clamp(36px,5vw,66px);margin:8px 0 6px; animation: slideUp 1s ease;}
    .card{
      background:var(--card); border:1px solid var(--line); border-radius:18px; padding:18px;
      box-shadow:0 10px 30px rgba(0,0,0,.45); transition: transform .3s ease, box-shadow .3s ease; animation: fadeInUp .8s ease;
      perspective:1000px; /* for avatar 3D tilt */
    }
    .card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0,0,0,.6); }

    /* ======== SECTIONS ======== */
    section{ padding:80px 0; border-top:1px solid var(--line); }
    h2{ margin:0 0 14px; position: relative; display: inline-block; }
    h2:after { content:''; position:absolute; bottom:-5px; left:0; width:50px; height:3px;
      background: linear-gradient(to right, var(--accent), var(--accent2)); border-radius:3px; }

    /* ======== CODE TERMINAL ======== */
    .code-terminal {
      font-family:'JetBrains Mono', monospace; background: rgba(0, 10, 20, .8); padding: 20px;
      border-radius: 10px; border: 1px solid var(--line); margin: 15px 0; position: relative; overflow: hidden;
    }
    .terminal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid var(--line);}
    .terminal-title{color:var(--accent);font-weight:600;display:flex;align-items:center;gap:8px;}
    .terminal-buttons{display:flex;gap:6px}
    .terminal-btn{width:12px;height:12px;border-radius:50%}
    .close{background:#ff5f57}.minimize{background:#ffbd2e}.maximize{background:#28ca42}

    /* Lines prepared for typing (start invisible) */
    .code-line { margin: 8px 0; white-space: pre-wrap; opacity: 0; }
    .typed-cursor { display:inline-block; width:10px; margin-left:3px; animation: blink 1s infinite; }
    @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0} }

    .prompt{ color: var(--accent2); margin-right: 10px; }
    .command{ color: var(--fg); }
    .output{ color: #82aaff; margin-left: 20px; }

    /* ======== EXPERIENCE ======== */
    .experience-item { margin-bottom: 40px; padding-bottom: 30px; border-bottom: 1px solid var(--line); transition: transform .3s ease; }
    .experience-item:hover { transform: translateX(5px); }
    .experience-item:last-child { border-bottom: none; }
    .experience-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:15px;flex-wrap:wrap;}
    .company{color:var(--accent);font-weight:600;font-size:1.2em}
    .date{color:var(--muted);font-size:.9em;background:rgba(179,136,255,.1);padding:4px 8px;border-radius:6px}

    .contact-links {display:flex;flex-wrap:wrap;gap:15px;margin-top:20px}
    .contact-link {display:flex;align-items:center;gap:8px;padding:10px 15px;background:var(--card);border-radius:10px;border:1px solid var(--line);transition: all .3s ease;}
    .contact-link:hover {background: rgba(179, 136, 255, .1); transform: translateY(-3px);}

    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    @keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    @keyframes slideUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
    @keyframes slideDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}
    @keyframes rotate{from{transform:rotate(0)}to{transform:rotate(360deg)}}
    @keyframes float{
      0%{transform: translateY(0) translateX(0) rotate(0); opacity:1}
      25%{transform: translateY(-20px) translateX(10px) rotate(90deg)}
      50%{transform: translateY(-40px) translateX(0) rotate(180deg); opacity:.8}
      75%{transform: translateY(-20px) translateX(-10px) rotate(270deg)}
      100%{transform: translateY(0) translateX(0) rotate(360deg); opacity:1}
    }

    /* Music loading indicator */
    .music-loading {display:inline-block;width:12px;height:12px;border:2px solid #f3f3f3;border-top:2px solid #b388ff;border-radius:50%;animation: spin 1s linear infinite;margin-right:5px;}
    @keyframes spin {0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
  </style>
</head>
<body>
  <!-- Background -->
  <div class="background-container">
    <div id="sakura-scene" class="scene active"><div class="particles" id="sakura-particles"></div></div>
    <div id="neon-scene" class="scene"><div class="particles" id="neon-particles"></div></div>
    <div id="sunset-scene" class="scene"><div class="particles" id="sunset-particles"></div></div>
    <div id="cyber-scene" class="scene"><div class="particles" id="cyber-particles"></div></div>
  </div>

  <div class="main-content">
    <header>
      <div class="container">
        <nav>
          <div class="brand"><div class="logo"></div><span>Khaled Ahmed ‚Ä¢ Embedded Systems</span></div>
          <div class="links">
            <a href="#hero">Home</a>
            <a href="#experience">Experience</a>
            <a href="#skills">Skills</a>
            <a href="#education">Education</a>
            <a href="#certs">Certifications</a>
            <a href="#contact">Contact</a>
          </div>
          <div style="display:flex;gap:10px;align-items:center">
            <button class="btn" id="switchStyle">üåó Switch Scene</button>
            <button class="btn" id="audioToggle"><span id="musicIcon">‚è≥</span> <span id="musicText">Music: Loading...</span></button>
          </div>
        </nav>
      </div>
    </header>

    <!-- Hero -->
    <section id="hero">
      <div class="container grid">
        <div>
          <div class="chip">‚ú® Senior Embedded Software Validation Engineer</div>
          <h1 class="title">Khaled Ahmed</h1>
          <p style="opacity:.9; font-size: 1.2em;">HIL ¬∑ SOME/IP ¬∑ DoIP ¬∑ UDS ¬∑ Python ¬∑ CAPL ¬∑ Vector CANoe</p>
          <p style="opacity:.8; margin-top: 15px;">Test & Validation Engineer with ~5 years in embedded HIL testing, automation, and diagnostics. Expert in automated validation of embedded software and communication protocols.</p>

          <!-- Hero Terminal (typed) -->
          <div class="code-terminal type-on-view" data-type-speed="60">
            <div class="terminal-header">
              <div class="terminal-title"><i class="fas fa-terminal"></i> system@portfolio:~</div>
              <div class="terminal-buttons"><div class="terminal-btn close"></div><div class="terminal-btn minimize"></div><div class="terminal-btn maximize"></div></div>
            </div>
            <div class="code-line" data-line="<span class='prompt'>$</span><span class='command'>whoami</span>"></div>
            <div class="code-line" data-line="<span class='output'>Senior Embedded Software Validation Engineer</span>"></div>
            <div class="code-line" data-line="<span class='prompt'>$</span><span class='command'>cat specialties.txt</span>"></div>
            <div class="code-line" data-line="<span class='output'>HIL Testing ‚Ä¢ SOME/IP ‚Ä¢ DoIP ‚Ä¢ UDS ‚Ä¢ Python ‚Ä¢ CAPL</span>"></div>
          </div>

          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:20px">
            <a class="btn" href="#experience">View Experience</a>
            <a class="btn" href="#contact">Contact Me</a>
            <a class="btn" href="https://linkedin.com/in/khaled-ahmed-b157421b2" target="_blank" rel="noopener"><i class="fab fa-linkedin"></i> LinkedIn</a>
          </div>
        </div>

        <!-- Avatar with mouse-follow -->
        <div class="card">
          <img id="avatar2D" src="https://cdn.jsdelivr.net/gh/Ahmedzikoo1995/static@main/avatar_hero.png"
               onerror="this.onerror=null;this.src='https://images.unsplash.com/photo-1535905557558-afc4877a26fc?q=80&w=800&auto=format&fit=crop'"
               alt="Khaled Ahmed"
               style="display:block;width:100%;max-width:360px;border-radius:18px;margin:0 auto;transform-style:preserve-3d;"/>
          <p style="opacity:.8;margin:10px 0 0;text-align:center">Senior Embedded Software Validation Engineer</p>
        </div>
      </div>
    </section>

    <!-- Experience -->
    <section id="experience">
      <div class="container">
        <h2><i class="fas fa-briefcase"></i> Professional Experience</h2>

        <!-- Italdesign -->
        <div class="experience-item card">
          <div class="experience-header">
            <h3>Automotive Test Engineer</h3>
            <div class="date">Jun 2023 - Present</div>
          </div>
          <div class="company">Italdesign | Italy</div>

          <div class="code-terminal type-on-view" data-type-speed="60">
            <div class="terminal-header">
              <div class="terminal-title"><i class="fas fa-network-wired"></i> protocol_validation@italdesign</div>
              <div class="terminal-buttons"><div class="terminal-btn close"></div><div class="terminal-btn minimize"></div><div class="terminal-btn maximize"></div></div>
            </div>
            <div class="code-line" data-line="&gt; <span class='command'>SOME/IP Validation:</span> <span class='output'>DoIP ‚Ä¢ TCP ‚Ä¢ UDP protocols</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Tools:</span> <span class='output'>Python (ENNA) + Vector CANoe</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Traceability:</span> <span class='output'>Codebeamer bidirectional mapping</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Agile Workflow:</span> <span class='output'>JIRA tickets + Root cause analysis</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Android Integration:</span> <span class='output'>ADB shell commands + Device management</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Reporting:</span> <span class='output'>Automated pipelines ‚Üí SharePoint/Codebeamer</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>HIL Management:</span> <span class='output'>CAN/Ethernet TCP + Fault resilience</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Diagnostics:</span> <span class='output'>UDS ‚Ä¢ ECU flashing ‚Ä¢ Climate chamber testing</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Infrastructure:</span> <span class='output'>Vector migration ‚Ä¢ Resurrected blocked tests</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Tools Development:</span> <span class='output'>GUI analysis acceleration</span>"></div>
          </div>
        </div>

        <!-- Marquardt -->
        <div class="experience-item card">
          <div class="experience-header">
            <h3>Functional Software Test Engineer</h3>
            <div class="date">Apr 2021 - Jun 2023</div>
          </div>
          <div class="company">Marquardt Group | Tunisia</div>

          <div class="code-terminal type-on-view" data-type-speed="60">
            <div class="terminal-header">
              <div class="terminal-title"><i class="fas fa-microchip"></i> hil_validation@marquardt</div>
              <div class="terminal-buttons"><div class="terminal-btn close"></div><div class="terminal-btn minimize"></div><div class="terminal-btn maximize"></div></div>
            </div>
            <div class="code-line" data-line="&gt; <span class='command'>HIL Benches:</span> <span class='output'>VT System ‚Ä¢ IBB configuration</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Tools:</span> <span class='output'>Vector CANoe ‚Ä¢ vTESTstudio</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>PCB Testing:</span> <span class='output'>Voltage/current ‚Ä¢ LED ‚Ä¢ Signal integrity</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Custom Hardware:</span> <span class='output'>Test boxes ‚Ä¢ Electronic circuits design</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>UDS Diagnostics:</span> <span class='output'>Security access ‚Ä¢ DTC ‚Ä¢ ECU reset</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>ECU Flashing:</span> <span class='output'>VFlash ‚Ä¢ Lauterbach ‚Ä¢ TestBenchClient</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Requirements:</span> <span class='output'>IBM DOORS analysis ‚Ä¢ Coverage tracking</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Team Training:</span> <span class='output'>Onboarding acceleration (3‚Üí1 month)</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Optimization:</span> <span class='output'>HIL availability +25% ‚Ä¢ Library organization</span>"></div>
          </div>
        </div>

        <!-- QA Training -->
        <div class="experience-item card">
          <div class="experience-header">
            <h3>QA Test & Validation Training</h3>
            <div class="date">Jan 2021 - Apr 2021</div>
          </div>
          <div class="company">ProServices Company | Tunisia</div>

          <div class="code-terminal type-on-view" data-type-speed="60">
            <div class="terminal-header">
              <div class="terminal-title"><i class="fas fa-clipboard-check"></i> qa_training@proservices</div>
              <div class="terminal-buttons"><div class="terminal-btn close"></div><div class="terminal-btn minimize"></div><div class="terminal-btn maximize"></div></div>
            </div>
            <div class="code-line" data-line="&gt; <span class='command'>Manual Testing:</span> <span class='output'>TestLink campaigns ‚Ä¢ Excel reporting</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Automation:</span> <span class='output'>Katalon ‚Ä¢ Selenium ‚Ä¢ TestOps reports</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Workflow:</span> <span class='output'>JIRA setup ‚Ä¢ MOA specs analysis</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Docs:</span> <span class='output'>Test case templates ‚Ä¢ Structured documentation</span>"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Skills -->
    <section id="skills">
      <div class="container">
        <h2><i class="fas fa-cogs"></i> Technical Skills</h2>
        <div class="card">
          <div class="code-terminal type-on-view" data-type-speed="60">
            <div class="terminal-header">
              <div class="terminal-title"><i class="fas fa-laptop-code"></i> skills_matrix@system</div>
              <div class="terminal-buttons"><div class="terminal-btn close"></div><div class="terminal-btn minimize"></div><div class="terminal-btn maximize"></div></div>
            </div>
            <div class="code-line" data-line="$ <span class='command'>Protocols:</span> <span class='output'>CAN ‚Ä¢ LIN ‚Ä¢ Ethernet ‚Ä¢ SOME/IP ‚Ä¢ DoIP ‚Ä¢ UDS</span>"></div>
            <div class="code-line" data-line="$ <span class='command'>Languages:</span> <span class='output'>Python ‚Ä¢ CAPL ‚Ä¢ C/C++ ‚Ä¢ MATLAB</span>"></div>
            <div class="code-line" data-line="$ <span class='command'>Tools:</span> <span class='output'>Vector CANoe ‚Ä¢ vTESTstudio ‚Ä¢ CANalyzer ‚Ä¢ VFlash ‚Ä¢ Lauterbach ‚Ä¢ ODIS</span>"></div>
            <div class="code-line" data-line="$ <span class='command'>Traceability/ALM:</span> <span class='output'>Codebeamer ‚Ä¢ IBM DOORS ‚Ä¢ JIRA ‚Ä¢ Git ‚Ä¢ SharePoint</span>"></div>
            <div class="code-line" data-line="$ <span class='command'>Measurements:</span> <span class='output'>Oscilloscope ‚Ä¢ Picoscope ‚Ä¢ Multimeter</span>"></div>
            <div class="code-line" data-line="$ <span class='command'>Analysis:</span> <span class='output'>Wireshark ‚Ä¢ EsoTrace ‚Ä¢ MobiXtreme</span>"></div>
            <div class="code-line" data-line="$ <span class='command'>Testing Methods:</span> <span class='output'>Black Box ‚Ä¢ Regression ‚Ä¢ Functional ‚Ä¢ System ‚Ä¢ Stress ‚Ä¢ Performance</span>"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Education -->
    <section id="education">
      <div class="container">
        <h2><i class="fas fa-graduation-cap"></i> Education</h2>
        <div class="card">
          <div class="code-terminal type-on-view" data-type-speed="60">
            <div class="terminal-header">
              <div class="terminal-title"><i class="fas fa-university"></i> education@profile</div>
              <div class="terminal-buttons"><div class="terminal-btn close"></div><div class="terminal-btn minimize"></div><div class="terminal-btn maximize"></div></div>
            </div>
            <div class="code-line" data-line="&gt; <span class='command'>Degree:</span> <span class='output'>Bachelor‚Äôs in Electrical Engineering (Master‚Äôs equivalent)</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Specialization:</span> <span class='output'>Embedded Systems & Computer Science</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>GPA:</span> <span class='output'>Very Good</span>"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Certifications & Licenses -->
    <section id="certs">
      <div class="container">
        <h2><i class="fas fa-certificate"></i> Certifications & Licenses</h2>
        <div class="card">
          <div class="code-terminal type-on-view" data-type-speed="60">
            <div class="terminal-header">
              <div class="terminal-title"><i class="fas fa-id-badge"></i> certs@profile</div>
              <div class="terminal-buttons"><div class="terminal-btn close"></div><div class="terminal-btn minimize"></div><div class="terminal-btn maximize"></div></div>
            </div>
            <div class="code-line" data-line="&gt; <span class='command'>Certifications:</span> <span class='output'>ISTQB ‚Ä¢ ISO 26262</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>License:</span> <span class='output'>Italian Driving License ‚Äî Category B</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Languages:</span> <span class='output'>English (Fluent) ‚Ä¢ French (Fluent)</span>"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact">
      <div class="container">
        <h2><i class="fas fa-envelope"></i> Contact Information</h2>
        <div class="card">
          <div class="code-terminal type-on-view" data-type-speed="60">
            <div class="terminal-header">
              <div class="terminal-title"><i class="fas fa-address-card"></i> contact_info@portfolio</div>
              <div class="terminal-buttons"><div class="terminal-btn close"></div><div class="terminal-btn minimize"></div><div class="terminal-btn maximize"></div></div>
            </div>
            <div class="code-line" data-line="&gt; <span class='command'>Email:</span> <span class='output'>khaled.ahmed@enis.tn</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Phone:</span> <span class='output'>+39 3318039484</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>LinkedIn:</span> <span class='output'>linkedin.com/in/khaled-ahmed-b157421b2</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Location:</span> <span class='output'>Moncalieri, Torino, Italy 10024</span>"></div>
            <div class="code-line" data-line="&gt; <span class='command'>Status:</span> <span class='output'>Available for opportunities</span>"></div>
          </div>

          <div class="contact-links">
            <a class="contact-link" href="mailto:khaled.ahmed@enis.tn"><i class="fas fa-envelope"></i> Email Me</a>
            <a class="contact-link" href="tel:+393318039484"><i class="fas fa-phone"></i> Call Me</a>
            <a class="contact-link" target="_blank" rel="noopener" href="https://linkedin.com/in/khaled-ahmed-b157421b2"><i class="fab fa-linkedin"></i> LinkedIn</a>
          </div>
        </div>
      </div>
    </section>

    <footer style="padding:60px 0;text-align:center;color:#cbd1df">
      <div class="container">
        <p>¬© <span id="year"></span> Khaled Ahmed - Senior Embedded Software Validation Engineer</p>
        <p style="margin-top: 10px; opacity: 0.7;">Innovating automotive validation through embedded systems expertise</p>
      </div>
    </footer>
  </div>

  <!-- Audio -->
  <audio id="customTrack" loop preload="auto">
    <source src="https://raw.githubusercontent.com/Ahmedzikoo1995/static/main/soft%20engineer.mp3" type="audio/mpeg">
  </audio>

  <script>
  // YEAR
  const yearEl = document.getElementById('year'); 
  if(yearEl) yearEl.textContent = new Date().getFullYear();

  // HEADER SCROLL
  window.addEventListener('scroll', ()=> {
    document.querySelector('header').classList.toggle('scrolled', window.scrollY>10);
  });

  // MUSIC SYSTEM
  const music = document.getElementById('customTrack');
  const musicBtn = document.getElementById('audioToggle');
  const musicIcon = document.getElementById('musicIcon');
  const musicText = document.getElementById('musicText');
  let musicPlaying=false, musicLoaded=false, userInteracted=false;

  function updateMusicButton(){
    if(!musicLoaded){ musicIcon.textContent='‚è≥'; musicText.textContent='Music: Loading...'; musicBtn.disabled=true; }
    else if(musicPlaying){ musicIcon.textContent='üîä'; musicText.textContent='Music: On'; musicBtn.disabled=false; }
    else{ musicIcon.textContent='üîá'; musicText.textContent='Music: Off'; musicBtn.disabled=false; }
  }

  function initMusic(){
    if(!music){ musicText.textContent='Music: Error'; return; }
    updateMusicButton();
    music.addEventListener('canplaythrough',()=>{ musicLoaded=true; updateMusicButton(); if(userInteracted && !musicPlaying) playMusic(); });
    music.addEventListener('error',()=>{ musicText.textContent='Music: Load Error'; musicBtn.disabled=true; });
    music.addEventListener('ended',()=>{ if(musicPlaying){ music.currentTime=0; music.play().catch(()=>{}); }});
  }
  function playMusic(){ if(!musicLoaded) return; music.play().then(()=>{ musicPlaying=true; updateMusicButton(); }).catch(()=>{ musicText.textContent='Music: Click to Play';}); }
  function pauseMusic(){ music.pause(); musicPlaying=false; updateMusicButton(); }
  function toggleMusic(){ if(!musicLoaded) return; musicPlaying?pauseMusic():playMusic(); }
  function handleUserInteraction(){
    if(!userInteracted){ userInteracted=true; if(musicLoaded && !musicPlaying) playMusic();
      document.removeEventListener('click', handleUserInteraction);
      document.removeEventListener('keydown', handleUserInteraction);
      document.removeEventListener('scroll', handleUserInteraction);
    }
  }
  document.addEventListener('DOMContentLoaded', ()=> {
    initMusic();
    document.addEventListener('click', handleUserInteraction);
    document.addEventListener('keydown', handleUserInteraction);
    document.addEventListener('scroll', handleUserInteraction);
    musicBtn.addEventListener('click', (e)=>{ e.stopPropagation(); handleUserInteraction(); toggleMusic(); });
  });

  // SCENES
  const scenes = document.querySelectorAll('.scene'); let currentSceneIndex=0;
  function switchScene(){ scenes[currentSceneIndex].classList.remove('active'); currentSceneIndex=(currentSceneIndex+1)%scenes.length; scenes[currentSceneIndex].classList.add('active'); createParticles(); }
  document.getElementById('switchStyle').addEventListener('click', switchScene);
  setInterval(switchScene, 8000);

  // PARTICLES
  function createParticles(){
    document.querySelectorAll('.particle').forEach(p=>p.remove());
    const currentId = scenes[currentSceneIndex].id;
    const box = document.getElementById(`${currentId}-particles`);
    let count=80, cls='sakura-particle', size='5px';
    if(currentId==='neon-scene'){ count=60; cls='neon-particle'; size='8px'; }
    else if(currentId==='sunset-scene'){ count=100; cls='sunset-particle'; size='3px'; }
    else if(currentId==='cyber-scene'){ count=120; cls='cyber-particle'; size='4px'; }
    for(let i=0;i<count;i++){
      const d=document.createElement('div'); d.className=`particle ${cls}`;
      d.style.left=`${Math.random()*100}%`; d.style.top=`${Math.random()*100}%`;
      d.style.width=size; d.style.height=size;
      d.style.animation=`float ${10+Math.random()*15}s linear ${Math.random()*10}s infinite`;
      box.appendChild(d);
    }
  }
  createParticles();

  // AVATAR eye-follow (parallax tilt)
  (function(){
    const avatar = document.getElementById('avatar2D');
    if(!avatar) return;
    const maxTilt = 15; // degrees
    document.addEventListener('mousemove', (e)=>{
      const x = (e.clientX / window.innerWidth - 0.5) * 2;
      const y = (e.clientY / window.innerHeight - 0.5) * 2;
      avatar.style.transform = `rotateY(${x*maxTilt}deg) rotateX(${-y*maxTilt}deg)`;
      avatar.style.transition = 'transform 0.08s ease-out';
    });
    document.addEventListener('mouseleave', ()=>{
      avatar.style.transform = 'rotateY(0deg) rotateX(0deg)';
    });
  })();

  // ======== TYPEWRITER (realistic, loops on re-enter) ========
  // Each .code-terminal with class "type-on-view" will type its .code-line children using their data-line content.
  // Speed: data-type-speed (ms per char). Default 60ms (‚âà0.06s).
  class Typer {
    constructor(container){
      this.container = container;
      this.lines = Array.from(container.querySelectorAll('.code-line'));
      this.speed = parseInt(container.dataset.typeSpeed || '60', 10);
      this.index = 0;
      this.cancel = false;
    }
    reset(){
      this.cancel = true;
      this.lines.forEach(l=>{ l.innerHTML=''; l.style.opacity=0; });
      this.index = 0;
      this.cancel = false;
    }
    async typeLine(el, html){
      el.style.opacity = 1;
      // Create a span to accumulate typed HTML safely
      const buffer = document.createElement('span');
      const cursor = document.createElement('span');
      cursor.className = 'typed-cursor'; cursor.textContent = '‚ñå';
      el.appendChild(buffer); el.appendChild(cursor);

      // We type raw HTML string char by char. Simple approach that preserves tags progressively.
      for(let i=0;i<html.length;i++){
        if(this.cancel) return;
        buffer.innerHTML = html.slice(0, i+1);
        await new Promise(r=>setTimeout(r, this.speed));
      }
      // keep cursor for cinematic effect at end of block only; remove per-line to avoid many cursors
      el.removeChild(cursor);
    }
    async play(){
      this.reset();
      for(; this.index < this.lines.length; this.index++){
        if(this.cancel) return;
        const el = this.lines[this.index];
        const html = el.dataset.line || '';
        await this.typeLine(el, html);
        await new Promise(r=>setTimeout(r, this.speed*6)); // small pause between lines
      }
      // Add a final cursor to the last line
      const last = this.lines[this.lines.length-1];
      if(last){
        const cursor = document.createElement('span');
        cursor.className='typed-cursor'; cursor.textContent='‚ñå';
        last.appendChild(cursor);
      }
    }
  }

  const observed = new WeakMap();
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      const el = entry.target;
      if(!observed.has(el)) observed.set(el, { typer: new Typer(el), playing:false });
      const state = observed.get(el);
      if(entry.isIntersecting && entry.intersectionRatio > 0.25){
        if(!state.playing){
          state.playing = true;
          state.typer.play().then(()=>{ state.playing=false; /* allow replay on next leave/enter */ });
        }
      } else {
        // On leave: prepare to loop (reset so it types again next enter)
        if(state.playing){
          state.typer.cancel = true;
          state.playing = false;
        }
        state.typer.reset();
      }
    });
  }, { threshold:[0, .25, .5, 1] });

  document.querySelectorAll('.type-on-view').forEach(block=> io.observe(block));

  // HERO should type once on load as well (and loop on re-enter)
  window.addEventListener('load', ()=>{
    document.querySelectorAll('.type-on-view').forEach(block=>{
      // If hero in view on load, trigger typing
      const rect = block.getBoundingClientRect();
      if(rect.top < window.innerHeight && rect.bottom > 0){
        // Force one play
        const state = observed.get(block);
        if(state && !state.playing){
          state.playing = true;
          state.typer.play().then(()=>{ state.playing=false; });
        }
      }
    });
  });
  </script>
</body>
</html>
